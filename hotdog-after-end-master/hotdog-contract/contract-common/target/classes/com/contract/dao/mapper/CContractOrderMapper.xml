<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.contract.dao.CContractOrderMapper">
    <resultMap id="BaseResultMap" type="com.contract.entity.CContractOrder">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        <id column="id" jdbcType="INTEGER" property="id" />
        <result column="ordercode" jdbcType="VARCHAR" property="ordercode" />
        <result column="cid" jdbcType="INTEGER" property="cid" />
        <result column="type" jdbcType="INTEGER" property="type" />
        <result column="realmoney" jdbcType="DECIMAL" property="realmoney" />
        <result column="gearing" jdbcType="INTEGER" property="gearing" />
        <result column="money" jdbcType="DECIMAL" property="money" />
        <result column="buyprice" jdbcType="DECIMAL" property="buyprice" />
        <result column="coin" jdbcType="VARCHAR" property="coin" />
        <result column="coinnum" jdbcType="DECIMAL" property="coinnum" />
        <result column="stopprice" jdbcType="DECIMAL" property="stopprice" />
        <result column="createtime" jdbcType="TIMESTAMP" property="createtime" />
        <result column="stoptime" jdbcType="TIMESTAMP" property="stoptime" />
        <result column="tax" jdbcType="DECIMAL" property="tax" />
        <result column="rates" jdbcType="DECIMAL" property="rates" />
        <result column="status" jdbcType="INTEGER" property="status" />
        <result column="automoney" jdbcType="DECIMAL" property="automoney" />
        <result column="settleflag" jdbcType="INTEGER" property="settleflag" />
        <result column="outtype" jdbcType="INTEGER" property="outtype" />
        <result column="stopwin" jdbcType="DECIMAL" property="stopwin" />
        <result column="stopdonat" jdbcType="DECIMAL" property="stopdonat" />
        <result column="spread" jdbcType="DECIMAL" property="spread" />
        <result column="spreadmoney" jdbcType="DECIMAL" property="spreadmoney" />
        <result column="remark" jdbcType="VARCHAR" property="remark" />
        <result column="ordertype" jdbcType="INTEGER" property="ordertype" />
        <result column="run_time" jdbcType="INTEGER" property="runTime" />
    </resultMap>
    <sql id="Example_Where_Clause">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        id, ordercode, cid, type, realmoney, gearing, money, buyprice, coin, coinnum, stopprice,
        createtime, stoptime, tax, rates, status, automoney, settleflag, outtype, stopwin,
        stopdonat, spread, spreadmoney, remark, ordertype, run_time
    </sql>
    <select id="selectByExample" parameterType="com.contract.entity.CContractOrderExample" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        <include refid="Base_Column_List" />
        from c_contract_order
        <if test="_parameter != null">
            <include refid="Example_Where_Clause" />
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        select
        <include refid="Base_Column_List" />
        from c_contract_order
        where id = #{id,jdbcType=INTEGER}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        delete from c_contract_order
        where id = #{id,jdbcType=INTEGER}
    </delete>
    <delete id="deleteByExample" parameterType="com.contract.entity.CContractOrderExample">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        delete from c_contract_order
        <if test="_parameter != null">
            <include refid="Example_Where_Clause" />
        </if>
    </delete>
    <insert id="insert" parameterType="com.contract.entity.CContractOrder">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        insert into c_contract_order (id, ordercode, cid,
        type, realmoney, gearing,
        money, buyprice, coin,
        coinnum, stopprice, createtime,
        stoptime, tax, rates,
        status, automoney, settleflag,
        outtype, stopwin, stopdonat,
        spread, spreadmoney, remark,
        ordertype, run_time)
        values (#{id,jdbcType=INTEGER}, #{ordercode,jdbcType=VARCHAR}, #{cid,jdbcType=INTEGER},
        #{type,jdbcType=INTEGER}, #{realmoney,jdbcType=DECIMAL}, #{gearing,jdbcType=INTEGER},
        #{money,jdbcType=DECIMAL}, #{buyprice,jdbcType=DECIMAL}, #{coin,jdbcType=VARCHAR},
        #{coinnum,jdbcType=DECIMAL}, #{stopprice,jdbcType=DECIMAL}, #{createtime,jdbcType=TIMESTAMP},
        #{stoptime,jdbcType=TIMESTAMP}, #{tax,jdbcType=DECIMAL}, #{rates,jdbcType=DECIMAL},
        #{status,jdbcType=INTEGER}, #{automoney,jdbcType=DECIMAL}, #{settleflag,jdbcType=INTEGER},
        #{outtype,jdbcType=INTEGER}, #{stopwin,jdbcType=DECIMAL}, #{stopdonat,jdbcType=DECIMAL},
        #{spread,jdbcType=DECIMAL}, #{spreadmoney,jdbcType=DECIMAL}, #{remark,jdbcType=VARCHAR},
        #{ordertype,jdbcType=INTEGER}, #{runTime,jdbcType=INTEGER})
    </insert>
    <insert id="insertSelective" parameterType="com.contract.entity.CContractOrder" useGeneratedKeys="true" keyProperty="id">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        insert into c_contract_order
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="ordercode != null">
                ordercode,
            </if>
            <if test="cid != null">
                cid,
            </if>
            <if test="type != null">
                type,
            </if>
            <if test="realmoney != null">
                realmoney,
            </if>
            <if test="gearing != null">
                gearing,
            </if>
            <if test="money != null">
                money,
            </if>
            <if test="buyprice != null">
                buyprice,
            </if>
            <if test="coin != null">
                coin,
            </if>
            <if test="coinnum != null">
                coinnum,
            </if>
            <if test="stopprice != null">
                stopprice,
            </if>
            <if test="createtime != null">
                createtime,
            </if>
            <if test="stoptime != null">
                stoptime,
            </if>
            <if test="tax != null">
                tax,
            </if>
            <if test="rates != null">
                rates,
            </if>
            <if test="status != null">
                status,
            </if>
            <if test="automoney != null">
                automoney,
            </if>
            <if test="settleflag != null">
                settleflag,
            </if>
            <if test="outtype != null">
                outtype,
            </if>
            <if test="stopwin != null">
                stopwin,
            </if>
            <if test="stopdonat != null">
                stopdonat,
            </if>
            <if test="spread != null">
                spread,
            </if>
            <if test="spreadmoney != null">
                spreadmoney,
            </if>
            <if test="remark != null">
                remark,
            </if>
            <if test="ordertype != null">
                ordertype,
            </if>
            <if test="runTime != null">
                run_time,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=INTEGER},
            </if>
            <if test="ordercode != null">
                #{ordercode,jdbcType=VARCHAR},
            </if>
            <if test="cid != null">
                #{cid,jdbcType=INTEGER},
            </if>
            <if test="type != null">
                #{type,jdbcType=INTEGER},
            </if>
            <if test="realmoney != null">
                #{realmoney,jdbcType=DECIMAL},
            </if>
            <if test="gearing != null">
                #{gearing,jdbcType=INTEGER},
            </if>
            <if test="money != null">
                #{money,jdbcType=DECIMAL},
            </if>
            <if test="buyprice != null">
                #{buyprice,jdbcType=DECIMAL},
            </if>
            <if test="coin != null">
                #{coin,jdbcType=VARCHAR},
            </if>
            <if test="coinnum != null">
                #{coinnum,jdbcType=DECIMAL},
            </if>
            <if test="stopprice != null">
                #{stopprice,jdbcType=DECIMAL},
            </if>
            <if test="createtime != null">
                #{createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="stoptime != null">
                #{stoptime,jdbcType=TIMESTAMP},
            </if>
            <if test="tax != null">
                #{tax,jdbcType=DECIMAL},
            </if>
            <if test="rates != null">
                #{rates,jdbcType=DECIMAL},
            </if>
            <if test="status != null">
                #{status,jdbcType=INTEGER},
            </if>
            <if test="automoney != null">
                #{automoney,jdbcType=DECIMAL},
            </if>
            <if test="settleflag != null">
                #{settleflag,jdbcType=INTEGER},
            </if>
            <if test="outtype != null">
                #{outtype,jdbcType=INTEGER},
            </if>
            <if test="stopwin != null">
                #{stopwin,jdbcType=DECIMAL},
            </if>
            <if test="stopdonat != null">
                #{stopdonat,jdbcType=DECIMAL},
            </if>
            <if test="spread != null">
                #{spread,jdbcType=DECIMAL},
            </if>
            <if test="spreadmoney != null">
                #{spreadmoney,jdbcType=DECIMAL},
            </if>
            <if test="remark != null">
                #{remark,jdbcType=VARCHAR},
            </if>
            <if test="ordertype != null">
                #{ordertype,jdbcType=INTEGER},
            </if>
            <if test="runTime != null">
                #{runTime,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>
    <select id="countByExample" parameterType="com.contract.entity.CContractOrderExample" resultType="java.lang.Long">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        select count(*) from c_contract_order
        <if test="_parameter != null">
            <include refid="Example_Where_Clause" />
        </if>
    </select>
    <update id="updateByExampleSelective" parameterType="map">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        update c_contract_order
        <set>
            <if test="record.id != null">
                id = #{record.id,jdbcType=INTEGER},
            </if>
            <if test="record.ordercode != null">
                ordercode = #{record.ordercode,jdbcType=VARCHAR},
            </if>
            <if test="record.cid != null">
                cid = #{record.cid,jdbcType=INTEGER},
            </if>
            <if test="record.type != null">
                type = #{record.type,jdbcType=INTEGER},
            </if>
            <if test="record.realmoney != null">
                realmoney = #{record.realmoney,jdbcType=DECIMAL},
            </if>
            <if test="record.gearing != null">
                gearing = #{record.gearing,jdbcType=INTEGER},
            </if>
            <if test="record.money != null">
                money = #{record.money,jdbcType=DECIMAL},
            </if>
            <if test="record.buyprice != null">
                buyprice = #{record.buyprice,jdbcType=DECIMAL},
            </if>
            <if test="record.coin != null">
                coin = #{record.coin,jdbcType=VARCHAR},
            </if>
            <if test="record.coinnum != null">
                coinnum = #{record.coinnum,jdbcType=DECIMAL},
            </if>
            <if test="record.stopprice != null">
                stopprice = #{record.stopprice,jdbcType=DECIMAL},
            </if>
            <if test="record.createtime != null">
                createtime = #{record.createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.stoptime != null">
                stoptime = #{record.stoptime,jdbcType=TIMESTAMP},
            </if>
            <if test="record.tax != null">
                tax = #{record.tax,jdbcType=DECIMAL},
            </if>
            <if test="record.rates != null">
                rates = #{record.rates,jdbcType=DECIMAL},
            </if>
            <if test="record.status != null">
                status = #{record.status,jdbcType=INTEGER},
            </if>
            <if test="record.automoney != null">
                automoney = #{record.automoney,jdbcType=DECIMAL},
            </if>
            <if test="record.settleflag != null">
                settleflag = #{record.settleflag,jdbcType=INTEGER},
            </if>
            <if test="record.outtype != null">
                outtype = #{record.outtype,jdbcType=INTEGER},
            </if>
            <if test="record.stopwin != null">
                stopwin = #{record.stopwin,jdbcType=DECIMAL},
            </if>
            <if test="record.stopdonat != null">
                stopdonat = #{record.stopdonat,jdbcType=DECIMAL},
            </if>
            <if test="record.spread != null">
                spread = #{record.spread,jdbcType=DECIMAL},
            </if>
            <if test="record.spreadmoney != null">
                spreadmoney = #{record.spreadmoney,jdbcType=DECIMAL},
            </if>
            <if test="record.remark != null">
                remark = #{record.remark,jdbcType=VARCHAR},
            </if>
            <if test="record.ordertype != null">
                ordertype = #{record.ordertype,jdbcType=INTEGER},
            </if>
            <if test="record.runTime != null">
                run_time = #{record.runTime,jdbcType=INTEGER},
            </if>
        </set>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause" />
        </if>
    </update>
    <update id="updateByExample" parameterType="map">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        update c_contract_order
        set id = #{record.id,jdbcType=INTEGER},
        ordercode = #{record.ordercode,jdbcType=VARCHAR},
        cid = #{record.cid,jdbcType=INTEGER},
        type = #{record.type,jdbcType=INTEGER},
        realmoney = #{record.realmoney,jdbcType=DECIMAL},
        gearing = #{record.gearing,jdbcType=INTEGER},
        money = #{record.money,jdbcType=DECIMAL},
        buyprice = #{record.buyprice,jdbcType=DECIMAL},
        coin = #{record.coin,jdbcType=VARCHAR},
        coinnum = #{record.coinnum,jdbcType=DECIMAL},
        stopprice = #{record.stopprice,jdbcType=DECIMAL},
        createtime = #{record.createtime,jdbcType=TIMESTAMP},
        stoptime = #{record.stoptime,jdbcType=TIMESTAMP},
        tax = #{record.tax,jdbcType=DECIMAL},
        rates = #{record.rates,jdbcType=DECIMAL},
        status = #{record.status,jdbcType=INTEGER},
        automoney = #{record.automoney,jdbcType=DECIMAL},
        settleflag = #{record.settleflag,jdbcType=INTEGER},
        outtype = #{record.outtype,jdbcType=INTEGER},
        stopwin = #{record.stopwin,jdbcType=DECIMAL},
        stopdonat = #{record.stopdonat,jdbcType=DECIMAL},
        spread = #{record.spread,jdbcType=DECIMAL},
        spreadmoney = #{record.spreadmoney,jdbcType=DECIMAL},
        remark = #{record.remark,jdbcType=VARCHAR},
        ordertype = #{record.ordertype,jdbcType=INTEGER},
        run_time = #{record.runTime,jdbcType=INTEGER}
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause" />
        </if>
    </update>
    <update id="updateByPrimaryKeySelective" parameterType="com.contract.entity.CContractOrder">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        update c_contract_order
        <set>
            <if test="ordercode != null">
                ordercode = #{ordercode,jdbcType=VARCHAR},
            </if>
            <if test="cid != null">
                cid = #{cid,jdbcType=INTEGER},
            </if>
            <if test="type != null">
                type = #{type,jdbcType=INTEGER},
            </if>
            <if test="realmoney != null">
                realmoney = #{realmoney,jdbcType=DECIMAL},
            </if>
            <if test="gearing != null">
                gearing = #{gearing,jdbcType=INTEGER},
            </if>
            <if test="money != null">
                money = #{money,jdbcType=DECIMAL},
            </if>
            <if test="buyprice != null">
                buyprice = #{buyprice,jdbcType=DECIMAL},
            </if>
            <if test="coin != null">
                coin = #{coin,jdbcType=VARCHAR},
            </if>
            <if test="coinnum != null">
                coinnum = #{coinnum,jdbcType=DECIMAL},
            </if>
            <if test="stopprice != null">
                stopprice = #{stopprice,jdbcType=DECIMAL},
            </if>
            <if test="createtime != null">
                createtime = #{createtime,jdbcType=TIMESTAMP},
            </if>
            <if test="stoptime != null">
                stoptime = #{stoptime,jdbcType=TIMESTAMP},
            </if>
            <if test="tax != null">
                tax = #{tax,jdbcType=DECIMAL},
            </if>
            <if test="rates != null">
                rates = #{rates,jdbcType=DECIMAL},
            </if>
            <if test="status != null">
                status = #{status,jdbcType=INTEGER},
            </if>
            <if test="automoney != null">
                automoney = #{automoney,jdbcType=DECIMAL},
            </if>
            <if test="settleflag != null">
                settleflag = #{settleflag,jdbcType=INTEGER},
            </if>
            <if test="outtype != null">
                outtype = #{outtype,jdbcType=INTEGER},
            </if>
            <if test="stopwin != null">
                stopwin = #{stopwin,jdbcType=DECIMAL},
            </if>
            <if test="stopdonat != null">
                stopdonat = #{stopdonat,jdbcType=DECIMAL},
            </if>
            <if test="spread != null">
                spread = #{spread,jdbcType=DECIMAL},
            </if>
            <if test="spreadmoney != null">
                spreadmoney = #{spreadmoney,jdbcType=DECIMAL},
            </if>
            <if test="remark != null">
                remark = #{remark,jdbcType=VARCHAR},
            </if>
            <if test="ordertype != null">
                ordertype = #{ordertype,jdbcType=INTEGER},
            </if>
            <if test="runTime != null">
                run_time = #{runTime,jdbcType=INTEGER},
            </if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.contract.entity.CContractOrder">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Nov 11 09:50:49 CST 2020.
        -->
        update c_contract_order
        set ordercode = #{ordercode,jdbcType=VARCHAR},
        cid = #{cid,jdbcType=INTEGER},
        type = #{type,jdbcType=INTEGER},
        realmoney = #{realmoney,jdbcType=DECIMAL},
        gearing = #{gearing,jdbcType=INTEGER},
        money = #{money,jdbcType=DECIMAL},
        buyprice = #{buyprice,jdbcType=DECIMAL},
        coin = #{coin,jdbcType=VARCHAR},
        coinnum = #{coinnum,jdbcType=DECIMAL},
        stopprice = #{stopprice,jdbcType=DECIMAL},
        createtime = #{createtime,jdbcType=TIMESTAMP},
        stoptime = #{stoptime,jdbcType=TIMESTAMP},
        tax = #{tax,jdbcType=DECIMAL},
        rates = #{rates,jdbcType=DECIMAL},
        status = #{status,jdbcType=INTEGER},
        automoney = #{automoney,jdbcType=DECIMAL},
        settleflag = #{settleflag,jdbcType=INTEGER},
        outtype = #{outtype,jdbcType=INTEGER},
        stopwin = #{stopwin,jdbcType=DECIMAL},
        stopdonat = #{stopdonat,jdbcType=DECIMAL},
        spread = #{spread,jdbcType=DECIMAL},
        spreadmoney = #{spreadmoney,jdbcType=DECIMAL},
        remark = #{remark,jdbcType=VARCHAR},
        ordertype = #{ordertype,jdbcType=INTEGER},
        run_time = #{runTime,jdbcType=INTEGER}
        where id = #{id,jdbcType=INTEGER}
    </update>

    <select id="queryOrderList" parameterType="com.contract.entity.CContractOrder"
            resultType="com.contract.entity.CContractOrder">
        select a.*,b.userid,b.phone as login,b.realname from c_contract_order a
        left join c_customer b on a.cid=b.id
        where 1=1
        <if test="cid != null">
            and a.cid = #{cid,jdbcType=INTEGER}
        </if>
        <if test="ordercode != null and ordercode != '' ">
            and a.ordercode = #{ordercode,jdbcType=VARCHAR}
        </if>
        <if test="userid != null">
            and b.userid = #{userid,jdbcType=INTEGER}
        </if>
        <if test="identity != null">
            and b.identity = #{identity,jdbcType=INTEGER}
        </if>
        <if test="parentid != null">
            and b.parentid = #{parentid,jdbcType=INTEGER}
        </if>
        <if test="login != null and login != '' ">
            and b.phone = #{login,jdbcType=VARCHAR}
        </if>
        <if test="status != null">
            and a.status = #{status,jdbcType=INTEGER}
        </if>
        <if test="type != null">
            and a.type = #{type,jdbcType=INTEGER}
        </if>
        <if test="coin != null and coin != '' ">
            and a.coin = #{coin,jdbcType=VARCHAR}
        </if>
        <if test="starttime !=null and starttime != ''">
            and DATE_FORMAT(a.createtime,'%Y%m%d')&gt;=DATE_FORMAT(#{starttime,jdbcType=VARCHAR},'%Y%m%d')
        </if>
        <if test="endtime !=null and endtime != ''">
            and DATE_FORMAT(a.createtime,'%Y%m%d')&lt;=DATE_FORMAT(#{endtime,jdbcType=VARCHAR},'%Y%m%d')
        </if>
        <if test="status == null or status ==1  ">
            order by a.createtime desc
        </if>
        <if test="status ==2  ">
            order by a.stoptime desc
        </if>
    </select>

    <select id="getOrderMoney" parameterType="com.contract.entity.CContractOrder"
            resultType="com.contract.dto.ReportDto">


        select num,
        ifnull(sum(money),0) as money,
        ifnull(sum(rates),0) as rates,
        ifnull(sum(spreadmoney),0) as spreadmoney,
        ifnull(sum(tax),0) as tax,
        ifnull(sum(balance),0) as balance
        from
        (select count(1) as num,
        ifnull(sum(realmoney),0) as money,
        ifnull(sum(rates),0) as rates,
        ifnull(sum(spreadmoney),0) as spreadmoney,
        ifnull(sum(tax),0) as tax,
        (select ifnull(sum(d.balance),0) from c_wallet d where d.cid=b.id and d.type='USDT') as balance
        from c_customer b
        left join c_contract_order a on a.cid=b.id
        where 1=1 and identity != 3
        <if test="cid != null">
            and b.id = #{cid,jdbcType=INTEGER}
        </if>
        <if test="ordercode != null and ordercode != '' ">
            and a.ordercode = #{ordercode,jdbcType=VARCHAR}
        </if>
        <if test="salesman != null">
            and b.salesman = #{salesman,jdbcType=INTEGER}
        </if>
        <if test="userid != null">
            and b.userid = #{userid,jdbcType=INTEGER}
        </if>
        <if test="identity != null">
            and b.identity = #{identity,jdbcType=INTEGER}
        </if>
        <if test="parentid != null">
            and b.parentid = #{parentid,jdbcType=INTEGER}
        </if>
        <if test="login != null and login != '' ">
            and b.phone = #{login,jdbcType=VARCHAR}
        </if>
        <if test="status != null">
            and a.status = #{status,jdbcType=INTEGER}
        </if>
        <if test="type != null">
            and a.type = #{type,jdbcType=INTEGER}
        </if>
        <if test="coin != null and coin != '' ">
            and a.coin = #{coin,jdbcType=VARCHAR}
        </if>
        <if test="starttime !=null and starttime != ''">
            and DATE_FORMAT(a.createtime,'%Y%m%d')&gt;=DATE_FORMAT(#{starttime,jdbcType=VARCHAR},'%Y%m%d')
        </if>
        <if test="endtime !=null and endtime != ''">
            and DATE_FORMAT(a.createtime,'%Y%m%d')&lt;=DATE_FORMAT(#{endtime,jdbcType=VARCHAR},'%Y%m%d')
        </if>
        group by b.id ) t
    </select>

    <select id="getByOrdercode" parameterType="java.lang.String" resultType="com.contract.entity.CContractOrder">
		select * from c_contract_order
		where  ordercode = #{ordercode,jdbcType=VARCHAR}
</select>

    <select id="getFrozen" parameterType="java.lang.Integer" resultType="java.math.BigDecimal">
		select ifnull(sum(realmoney),0) from c_contract_order where settleflag=-1
		and cid = #{cid,jdbcType=INTEGER}
</select>

    <select id="getContractExport" parameterType="java.util.Map" resultType="com.contract.entity.ContractExportDto">
        SELECT
        CASE a.status WHEN '1' THEN '持仓中' WHEN '2' THEN '已完成' END AS STATUS,
        CASE TYPE WHEN '1' THEN '开多' WHEN '2' THEN '开空' END AS TYPE,
        CASE settleflag WHEN '-1' THEN '未结算' WHEN '0' THEN '已结算' END AS settleflag,a.ordercode,a.cid,
        a.realmoney,a.gearing,a.money,a.buyprice,a.coin,a.coinnum,a.stopprice,a.createtime,a.stoptime,a.tax,
        a.rates,a.automoney,a.outtype,a.stopwin,a.stopdonat,a.spread,a.spreadmoney,a.remark,a.ordertype,b.userid,
        b.phone,b.realname
        FROM c_contract_order a
        LEFT JOIN c_customer b ON a.cid=b.id
        WHERE 1=1
        <if test="ordercode != null and ordercode != '' ">
            and a.ordercode = #{ordercode,jdbcType=VARCHAR}
        </if>
        <if test="userid != null and userid != ''">
            and b.userid = #{userid,jdbcType=INTEGER}
        </if>
        <if test="identity != null and identity != ''">
            and b.identity = #{identity,jdbcType=INTEGER}
        </if>
        <if test="parentname != null and parentname != ''">
            and b.parentid = #{parentname,jdbcType=INTEGER}
        </if>
        <if test="login != null and login != '' ">
            and b.phone = #{login,jdbcType=VARCHAR}
        </if>
        <if test="status != null and status != ''">
            and a.status = #{status,jdbcType=INTEGER}
        </if>
        <if test="type != null and type != ''">
            and a.type = #{type,jdbcType=INTEGER}
        </if>
        <if test="coin != null and coin != '' ">
            and a.coin = #{coin,jdbcType=VARCHAR}
        </if>
        <if test="starttime !=null and starttime != ''">
            and DATE_FORMAT(a.createtime,'%Y%m%d')&gt;=DATE_FORMAT(#{starttime,jdbcType=VARCHAR},'%Y%m%d')
        </if>
        <if test="endtime !=null and endtime != ''">
            and DATE_FORMAT(a.createtime,'%Y%m%d')&lt;=DATE_FORMAT(#{endtime,jdbcType=VARCHAR},'%Y%m%d')
        </if>
        LIMIT 5000
    </select>
    <select id="selectContractOrder" parameterType="java.util.Map" resultType="com.contract.entity.CContractOrder">
        select
        <include refid="Base_Column_List"/>
        from c_contract_order
        WHERE 1=1
        <if test="ordercode != null and ordercode != '' ">
            and ordercode = #{ordercode,jdbcType=VARCHAR}
        </if>
    </select>
</mapper>