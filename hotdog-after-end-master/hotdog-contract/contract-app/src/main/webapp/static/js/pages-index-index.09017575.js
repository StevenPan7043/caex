(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"24ff":function(n,t,e){"use strict";e.r(t);var i=e("abf0"),a=e("3378");for(var d in a)"default"!==d&&function(n){e.d(t,n,function(){return a[n]})}(d);e("7ec9");var o=e("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"0dd4dd9d",null);t["default"]=s.exports},3378:function(n,t,e){"use strict";e.r(t);var i=e("74d9"),a=e.n(i);for(var d in i)"default"!==d&&function(n){e.d(t,n,function(){return i[n]})}(d);t["default"]=a.a},"74d9":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{banner:[],indicatorDots:!0,interval:5e3,duration:500,color:"rgba(255,255,255,.7)",colorActive:"#fff",newsList:[],autoplay2:!0,interval2:2500,duration2:500,vertical2:!0,circular2:!0,banner2:[],timer:"",timer2:"",WebSocketData:[],tokenStatus:!1,socketTask:""}},filters:{tofixed4:function(n){return n.toFixed(2)}},onLoad:function(){},onHide:function(){console.log("onHide"),this.socketTask.close(),this.socketTask.onClose(function(){console.log("关闭当前页websocket")}),clearInterval(this.timer),this.timer=null,clearTimeout(this.timer2),this.timer2=null},onUnload:function(){console.log("onUnload"),this.socketTask.close(),clearInterval(this.timer),this.timer=null,clearTimeout(this.timer2),this.timer2=null},onShow:function(){var n=this;uni.showLoading({title:"loading..",mask:!0}),setTimeout(function(){uni.hideLoading()},1e3);this.$ajax("/account/getMyInfos",{token:this.$userId()},function(t){t.data.status?(n.userinfo=t.data.data,n.tokenStatus=!0,setTimeout(function(){n.timers1()},500)):(clearInterval(n.timer),n.timer=null,n.$token(t))}),this.timer2=setInterval(function(){n.socketTask.close({success:function(){clearInterval(n.timer),n.timer=null,console.log("每隔十分钟断开连接"),n.timers1()}})},3e5),this.$ajax("/home/queryBanner",{position:1},function(t){t.data.status&&(n.banner=t.data.data)}),this.$ajax("/home/queryBanner",{position:2},function(t){t.data.status&&(n.banner2=t.data.data)}),this.$ajax("/home/queryNotice",{page:1},function(t){t.data.status&&(n.newsList=t.data.data)})},methods:{timers1:function(){var n=this;this.socketTask=uni.connectSocket({url:"ws://"+this.webSocketUrl+"/websocket/"+this.$userId(),method:"GET",complete:function(){}}),n.socketTask.onMessage(function(t){n.WebSocketData=JSON.parse(t.data)}),n.socketTask.onOpen(function(){console.log("WebSocket连接已打开！"),n.timer=setInterval(function(){n.socketTask.send({data:n.$userId()+"_home",success:function(){n.socketTask.onMessage(function(t){n.WebSocketData=JSON.parse(t.data)})}})},1500)})},navigateToHY:function(){uni.switchTab({url:"/pages/contract/contract"})},gotoHotnews:function(n){uni.navigateTo({url:"notice_detail?id="+n})},moreNotice:function(){uni.navigateTo({url:"notice"})},goCharts:function(n){uni.navigateTo({url:"../contract/web_charts?&coin="+this.WebSocketData[n].coin})}}};t.default=i},"7ec9":function(n,t,e){"use strict";var i=e("aecf"),a=e.n(i);a.a},abf0:function(n,t,e){"use strict";var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",[e("v-uni-view",{staticClass:"seat"}),e("v-uni-view",{staticClass:"top-head"},[e("v-uni-image",{attrs:{src:"/static/images/logo_top.png",mode:""}}),e("v-uni-text",[n._v("BTXCOIN")])],1),e("v-uni-view",{staticClass:"banner-head"},[n.banner.length>0?e("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":n.indicatorDots,autoplay:!0,interval:n.interval,circular:!0,duration:n.duration,"indicator-color":n.color,"indicator-active-color":n.colorActive}},n._l(n.banner,function(n,t){return e("v-uni-swiper-item",{key:t},[e("v-uni-image",{attrs:{src:n.imgurl?n.imgurl:"/static/images/banner1.png"}})],1)}),1):e("v-uni-swiper",{staticClass:"swiper"},[e("v-uni-swiper-item",[e("v-uni-image",{attrs:{src:"/static/images/banner1.png"}})],1)],1)],1),e("v-uni-view",{staticClass:"hot-news"},[e("v-uni-view",{staticClass:"hot-news-title"},[e("v-uni-image",{attrs:{src:"/static/images/info_icon.png",mode:""}})],1),e("v-uni-view",{staticClass:"hot-news-box"},[n.newsList.length>0?e("v-uni-swiper",{attrs:{autoplay:n.autoplay2,interval:n.interval2,duration:n.duration2,vertical:n.vertical2,circular:n.circular2}},n._l(n.newsList,function(t,i){return e("v-uni-swiper-item",{key:i},[e("v-uni-text",{staticClass:"text_overflow",on:{click:function(e){e=n.$handleEvent(e),n.gotoHotnews(t.id)}}},[n._v(n._s(t.title?t.title:"数据加载中..."))])],1)}),1):e("v-uni-swiper",[e("v-uni-swiper-item",[e("v-uni-text",{staticClass:"text_overflow"},[n._v("数据正在拼命加载中...")])],1)],1)],1),e("v-uni-view",{staticClass:"news-more",on:{click:function(t){t=n.$handleEvent(t),n.moreNotice(t)}}},[e("v-uni-image",{attrs:{src:"/static/images/right_more.png",mode:""}})],1)],1),e("v-uni-view",{staticClass:"wave"},n._l(n.WebSocketData,function(t,i){return i<3?e("v-uni-view",{key:i,staticClass:"wave-item",on:{click:function(t){t=n.$handleEvent(t),n.goCharts(i)}}},[e("v-uni-text",[n._v(n._s(t.name))]),e("v-uni-text",{class:0==t.isout?"down":"up"},[n._v(n._s(t.usdtPrice))]),e("v-uni-text",{class:0==t.isout?"down":"up"},[n._v(n._s(0==t.isout?"-":"+")+n._s(n._f("tofixed4")(100*t.scale))+"%")]),e("v-uni-text",[n._v("≈"+n._s(t.cny)+"CNY")])],1):n._e()}),1),n.banner2.length>0?e("v-uni-view",{staticClass:"ad",on:{click:function(t){t=n.$handleEvent(t),n.navigateToHY(t)}}},n._l(n.banner2,function(n,t){return e("v-uni-image",{key:t,attrs:{src:n.imgurl,mode:""}})}),1):n._e(),e("v-uni-view",{staticClass:"h20"}),e("v-uni-view",{staticClass:"quotation"},[e("v-uni-view",{staticClass:"quotation-title"},[n._v("行情涨幅榜")]),e("v-uni-view",{staticClass:"quotation-head"},[e("v-uni-text",[n._v("名称")]),e("v-uni-text",[n._v("最新价")]),e("v-uni-text",[n._v("涨跌幅")])],1),n.WebSocketData.length>0?e("v-uni-view",{staticClass:"quotation-list"},n._l(n.WebSocketData,function(t,i){return e("v-uni-view",{key:i,staticClass:"quotation-item",on:{click:function(t){t=n.$handleEvent(t),n.goCharts(i)}}},[e("v-uni-text",[n._v(n._s(t.coin)),e("v-uni-text",[n._v("/"+n._s(t.unit))])],1),e("v-uni-text",[n._v(n._s(t.usdtPrice))]),e("v-uni-text",{class:0==t.isout?"down":"up"},[n._v(n._s(0==t.isout?"-":"+")+n._s(n._f("tofixed4")(100*t.scale))+"%")])],1)}),1):e("v-uni-view",{staticClass:"state-none"},[e("v-uni-view",{staticClass:"h60"}),e("v-uni-image",{attrs:{src:"../../static/images/none.png",mode:""}}),e("v-uni-text",[n._v("暂无数据")])],1)],1),e("v-uni-view",{staticClass:"h40"})],1)},a=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return a})},aecf:function(n,t,e){var i=e("b528");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("40926f37",i,!0,{sourceMap:!1,shadowMode:!1})},b528:function(n,t,e){t=n.exports=e("2350")(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/*  */.seat[data-v-0dd4dd9d]{height:%?88?%;\r\n}.top-head[data-v-0dd4dd9d]{width:100%;height:%?88?%;background:#141f30;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:fixed;left:0;top:0;z-index:100;\r\n}.top-head uni-image[data-v-0dd4dd9d]{width:%?48?%;height:%?48?%;margin-right:%?10?%}.top-head uni-text[data-v-0dd4dd9d]{font-size:%?34?%;color:#fff}.banner-head[data-v-0dd4dd9d]{padding:%?20?%}.banner-head .swiper[data-v-0dd4dd9d]{height:%?360?%}.banner-head .swiper uni-image[data-v-0dd4dd9d]{width:100%;height:%?360?%;border-radius:%?14?%}.hot-news[data-v-0dd4dd9d]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 %?20?%;height:%?74?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;background:#141f30;margin:0 %?20?%}.hot-news-title[data-v-0dd4dd9d]{-webkit-box-flex:0;-webkit-flex:0 0 %?36?%;-ms-flex:0 0 %?36?%;flex:0 0 %?36?%}.hot-news-title uni-image[data-v-0dd4dd9d]{width:%?36?%;height:%?36?%;display:block}.hot-news-box[data-v-0dd4dd9d]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:100%;line-height:%?74?%;margin-left:%?20?%}.hot-news-box uni-swiper[data-v-0dd4dd9d]{height:100%}.hot-news-box uni-swiper uni-text[data-v-0dd4dd9d]{display:block;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-size:%?28?%;color:#8a9fb0;margin-right:%?90?%}.news-more[data-v-0dd4dd9d]{color:#26c4b3;height:100%;font-size:%?26?%;position:absolute;right:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);padding-left:%?24?%;padding-right:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}\r\n/* .news-more:after{content: '';width: 1px;height: 32upx;background: #8A9FB0;position: absolute;left: 0;top: 50%;transform: translateY(-50%);} */.news-more uni-image[data-v-0dd4dd9d]{width:%?36?%;height:%?36?%;display:block}.wave[data-v-0dd4dd9d]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:%?20?%}.wave-item[data-v-0dd4dd9d]{background:#141f30;width:%?230?%;height:%?252?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-right:%?10?%}.wave-item[data-v-0dd4dd9d]:last-child{margin-right:0}.wave-item uni-text[data-v-0dd4dd9d]:first-child{font-size:%?26?%;color:#d1d5eb}.wave-item uni-text[data-v-0dd4dd9d]:nth-child(2){font-size:%?32?%;margin:%?16?% 0}.wave-item uni-text[data-v-0dd4dd9d]:nth-child(3){font-size:%?24?%;margin-bottom:%?10?%}.wave-item uni-text[data-v-0dd4dd9d]:nth-child(4){font-size:%?24?%;color:#778aa2}.up[data-v-0dd4dd9d]{color:#02ad8f}.down[data-v-0dd4dd9d]{color:#d14b64}.ad[data-v-0dd4dd9d]{padding:%?20?%}.ad uni-image[data-v-0dd4dd9d]{width:100%;height:%?200?%;border-radius:%?12?%}.quotation[data-v-0dd4dd9d]{padding:0 %?20?%}.quotation-title[data-v-0dd4dd9d]{font-size:%?32?%;color:#d9ebfa;height:%?88?%;line-height:%?88?%;background:#141f30;border-bottom:1px solid #081724;padding-left:%?24?%}.quotation-head[data-v-0dd4dd9d]{background:#141f30;height:%?70?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 %?30?%;border-bottom:1px solid #081724}.quotation-head uni-text[data-v-0dd4dd9d]{font-size:%?26?%;color:#70829a;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.quotation-head uni-text[data-v-0dd4dd9d]:first-child{-webkit-box-flex:0;-webkit-flex:0 0 29%;-ms-flex:0 0 29%;flex:0 0 29%}.quotation-head uni-text[data-v-0dd4dd9d]:nth-child(2){text-align:left}.quotation-head uni-text[data-v-0dd4dd9d]:nth-child(3){text-align:right}.quotation-item[data-v-0dd4dd9d]{height:%?120?%;background:#141f30;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 %?30?%;border-bottom:1px solid #191e31}.quotation-item>uni-text[data-v-0dd4dd9d]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;color:#d9ebfa;font-size:%?30?%}.quotation-item>uni-text[data-v-0dd4dd9d]:first-child{-webkit-box-flex:0;-webkit-flex:0 0 29%;-ms-flex:0 0 29%;flex:0 0 29%}.quotation-item>uni-text uni-text[data-v-0dd4dd9d]{color:#778aa2;font-size:%?22?%}.quotation-item>uni-text[data-v-0dd4dd9d]:last-child{-webkit-box-flex:0;-webkit-flex:none;-ms-flex:none;flex:none;width:%?170?%;height:%?66?%;border-radius:%?4?%;text-align:center;background:#ccc;line-height:%?66?%}.quotation-item uni-text.up[data-v-0dd4dd9d]{background:#02ad8f}.quotation-item uni-text.down[data-v-0dd4dd9d]{background:#d14b64}",""])}}]);